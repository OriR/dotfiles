{{ if eq .chezmoi.os "darwin" -}}
#!/bin/sh

dock_item() {
    printf '<dict><key>tile-data</key><dict><key>file-data</key><dict><key>_CFURLString</key><string>%s</string><key>_CFURLStringType</key><integer>0</integer></dict></dict></dict>', "$1"
}

# Add the following applications to the dock:
#  * ITerm
#  * Slack
#  * Visual Studio Code
#  * Google Chrome
#  * Google Chrome Canary
#  * Firefox
#  * Firefox Nightly
#  * Safari
#  * Safari Technology Preview
#  * Microsoft Edge
#  * Microsoft Edge Dev

defaults write com.apple.dock persistent-apps -array \
    "$(dock_item /Applications/iTerm.app)" \
    "$(dock_item /Applications/Slack.app)" \
    "$(dock_item /Applications/Visual\ Studio\ Code.app)" \
    "$(dock_item /Applications/Google\ Chrome.app)" \
    "$(dock_item /Applications/Google\ Chrome\ Canary.app)" \
    "$(dock_item /Applications/Firefox.app)" \
    "$(dock_item /Applications/Firefox\ Nightly.app)" \
    "$(dock_item /Applications/Safari.app)" \
    "$(dock_item /Applications/Safari\ Technology\ Preview.app)" 
    "$(dock_item /Applications/Microsoft\ Edge.app)" 
    "$(dock_item /Applications/Microsoft\ Edge\ Dev.app)" 

killall Dock

{{ end -}}
